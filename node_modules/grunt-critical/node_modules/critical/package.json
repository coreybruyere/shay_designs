{
  "name": "critical",
  "version": "0.5.4",
  "description": "Extract & Inline Critical-path CSS from HTML",
  "author": {
    "name": "Addy Osmani"
  },
  "license": "Apache-2.0",
  "repository": {
    "type": "git",
    "url": "git://github.com/addyosmani/critical"
  },
  "scripts": {
    "test": "mocha test/test.js --timeout 100000"
  },
  "files": [
    "bin/critical",
    "src/critical.js",
    "src/helper/inline-styles.js"
  ],
  "bin": {
    "critical": "./bin/critical"
  },
  "preferGlobal": true,
  "main": "src/critical.js",
  "keywords": [
    "critical",
    "path",
    "css",
    "optimization"
  ],
  "engines": {
    "node": ">=0.10.0"
  },
  "dependencies": {
    "bluebird": "^2.2.2",
    "cheerio": "^0.18.0",
    "clean-css": "^2.2.4",
    "cli": "^0.6.5",
    "get-stdin": "^3.0.0",
    "imageinliner": "^0.2.2",
    "indent-string": "^1.2.0",
    "inline-critical": "^0.0.9",
    "lodash": "^2.4.1",
    "meow": "^2.0.0",
    "object-assign": "^2.0.0",
    "oust": "^0.2.0",
    "penthouse": "0.2.53",
    "slash": "^1.0.0",
    "tempfile": "^1.1.0",
    "tmp": "0.0.24"
  },
  "devDependencies": {
    "async": "^0.9.0",
    "mocha": "*",
    "mockery": "^1.4.0"
  },
  "readme": "# critical [![Build Status](https://travis-ci.org/addyosmani/critical.svg?branch=master)](https://travis-ci.org/addyosmani/critical)\n\n![](http://i.imgur.com/lAzmBD2.png)\n\nCritical extracts & inlines critical-path (above-the-fold) CSS from HTML\n\n## Install\n\n```sh\n$ npm install --save critical\n```\n\n## Build plugins\n\n* [grunt-critical](https://github.com/bezoerb/grunt-critical)\n* Gulp users should use Critical directly\n\n## Demo projects\n\n* [Optimize a basic page with Gulp](https://github.com/addyosmani/critical-path-css-demo) with a [tutorial](https://github.com/addyosmani/critical-path-css-demo#tutorial)\n* [Optimize an Angular boilerplate with Gulp](https://github.com/addyosmani/critical-path-angular-demo)\n* [Optimize a Weather app with Gulp](https://github.com/addyosmani/critical-css-weather-app)\n\n## Usage\n\nInclude:\n\n```js\nvar critical = require('critical');\n```\n\n### Generate and inline critical-path CSS\n\n```js\ncritical.generateInline({\n    // Your base directory\n    base: 'dist/',\n\n    // HTML source\n    html: '<html>...</html>',\n    \n    // HTML source file\n    src: 'index.html',\n\n    // Your CSS Files (optional)\n    css: ['dist/styles/main.css'],\n\n    // Viewport width\n    width: 320,\n\n    // Viewport height\n    height: 480,\n\n    // Target for final HTML output\n    htmlTarget: 'index-critical.html',\n\n    // Target for generated critical-path CSS (which we inline)\n    styleTarget: 'styles/main.css',\n\n    // Minify critical-path CSS when inlining\n    minify: true,\n\n    // Extract inlined styles from referenced stylesheets\n    extract: true\n});\n```\n\n### Generate critical-path CSS\n\nBasic usage:\n\n```js\ncritical.generate({\n    base: 'test/',\n    src: 'index.html',\n    dest: 'styles/main.css',\n    width: 320,\n    height: 480\n});\n```\n\nGenerate and minify critical-path CSS:\n\n```js\ncritical.generate({\n    base: 'test/',\n    src: 'index.html',\n    dest: 'styles/styles.min.css',\n    minify: true,\n    width: 320,\n    height: 480\n});\n```\n\nGenerate and return output via a callback:\n\n```js\ncritical.generate({\n    base: 'test/',\n    src: 'index.html',\n    width: 320,\n    height: 480\n}, function (err, output) {\n    // You now have critical-path CSS\n    // Works with and without dest specified\n});\n```\n\n### Inline `<style>` / critical CSS from generation\n\nBasic usage:\n\n```js\ncritical.inline({\n    base: 'test/',\n    src: 'index-critical.html',\n    dest: 'inlined.html'\n});\n```\n\nMinify and inline stylesheets:\n\n```js\ncritical.inline({\n    base: 'test/',\n    src: 'index-critical.html',\n    dest: 'inlined-minified.html',\n    minify: true\n});\n```\n\nInline and return output via a callback:\n\n```js\ncritical.inline({\n    base: 'test/',\n    src: 'index-critical.html'\n}, function (err, output){\n    // You now have HTML with inlined critical-path CSS\n    // Works with and without dest specified\n});\n```\n\n### Options\n\n| Name             | Type          | Description   |\n| ---------------- | ------------- | ------------- |\n| base             | `string`      | Base directory in which the source and destination are to be written |\n| html             | `string`      | HTML source to be operated against. This option takes precedence over the `src` option |\n| src              | `string`      | Location of the HTML source to be operated against |\n| dest             | `string`      | Location of where to save the output of an operation |\n| width            | `integer`     | (Generation only) Width of the target viewport |\n| height           | `integer`     | (Generation only) Height of the target viewport |\n| minify           | `boolean`     | Enable minification of CSS output |\n| extract          | `boolean`     | Remove the inlined styles from any stylesheets referenced in the HTML. It generates new references based on extracted content so it's safe to use for multiple HTML files referencing the same stylesheet|\n| styleTarget      | `string`      | (`generateInline` only) Destination for critical-path styles |\n| htmlTarget       | `string`      | (`generateInline` only) Destination for (critical-path CSS) style-inlined HTML |\n| inlineImages     | `boolean`     | Inline images (default: false)\n| maxImageFileSize | `integer`     | Sets a max file size (in bytes) for base64 inlined images\n\n## CLI\n\ncritical works well with standard input.\n\n```shell\ncat test/fixture/index.html | critical --base test/fixture > critical.css\n```\n\nYou can also pass in the critical CSS file as an option.\n\n```shell\ncritical test/fixture/index.html --base test/fixture > critical.css\n```\n\n## Why?\n\n### Why is critical-path CSS important?\n\n> CSS is required to construct the render tree for your pages and JavaScript\nwill often block on CSS during initial construction of the page.\nYou should ensure that any non-essential CSS is marked as non-critical\n(e.g. print and other media queries), and that the amount of critical CSS\nand the time to deliver it is as small as possible.\n\n### Why should critical-path CSS be inlined?\n\n> For best performance, you may want to consider inlining the critical CSS\ndirectly into the HTML document. This eliminates additional roundtrips\nin the critical path and if done correctly can be used to deliver a\n“one roundtrip” critical path length where only the HTML is a blocking resource.\n\n\n## FAQ\n\n### Are there any sample projects available using Critical?\n\nWhy, yes!. Take a look at [this](https://github.com/addyosmani/critical-path-css-demo) Gulp project\nwhich demonstrates using Critical to generate and inline critical-path CSS. It also includes a mini-tutorial\nthat walks through how to use it in a simple webapp.\n\n### When should I just use Penthouse directly?\n\nThe main differences between Critical and [Penthouse](https://github.com/pocketjoso/penthouse), a module we\nuse, are:\n\n* Critical will automatically extract stylesheets from your HTML from which to generate critical-path CSS from,\nwhilst other modules generally require you to specify this upfront.\n* Critical provides methods for inlining critical-path CSS (a common logical next-step once your CSS is generated)\n* Since we tackle both generation and inlining, we're able to abstract away some of the ugly boilerplate otherwise\ninvolved in tackling these problems separately.\n\nThat said, if your site or app has a large number of styles or styles which are being dynamically injected into\nthe DOM (sometimes common in Angular apps) I recommend using Penthouse directly. It will require you to supply\nstyles upfront, but this may provide a higher level of accuracy if you find Critical isn't serving your needs.\n\n### What other alternatives to Critical are available?\n\nFilamentGroup maintain a [criticalCSS](https://github.com/filamentgroup/criticalCSS) node module, which\nsimilar to [Penthouse](https://github.com/pocketjoso/penthouse) will find and output the critical-path CSS for\nyour pages.\n\n### Is Critical stable and suitable for production use?\n\nMany of the current tools around critical-path CSS are in an experimental stage and are constantly striving\nto improve. The same could be said of Critical. It hasn't been extensively tested on a ton of sites and it's\nvery possible something may well break. That said, we welcome you to try it out on your project and report\nbugs if you find them.\n\n## Can I contribute?\n\nOf course. We appreciate all of our [contributors](https://github.com/addyosmani/critical/graphs/contributors) and\nwelcome contributions to improve the project further. If you're uncertain whether an addition should be made, feel\nfree to open up an issue and we can discuss it.\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/addyosmani/critical/issues"
  },
  "homepage": "https://github.com/addyosmani/critical",
  "_id": "critical@0.5.4",
  "_shasum": "ee013a7fcd4bc8ec23930734c26ca97f0bc1f590",
  "_from": "critical@^0.5.1",
  "_resolved": "https://registry.npmjs.org/critical/-/critical-0.5.4.tgz"
}
